---
title: "변수와 JVM의 메모리 구조"
excerpt: "이클립스"

categories:
  - Java
tags:
  - [Java]

permalink: /Java/

toc: true
toc_sticky: true
 
date: 2021-10-04
last_modified_at: 2021-10-04

---

## 변수

* 변수란 데이터를 저장할 수 있는 메모리 공간을 의미한다.

<br>

* 원시 타입 변수(기본형 primitive type) : 호출하면 값이 출력 <br>
    정수형 [ int, long, byte, short ] <br>
    실수형 [ float, double ] <br>
    논리형 [ boolean ] <br>
    문자형 [ char ]

    <br>

    <span style="color:orange"> Int i;  원시타입 변수 선언 </span>

<br>

* 레퍼런스 타입 변수(참조형 reference type) : 호출하면 주소번지 출력 <br>
    배열 <br>
    객체 배열(주소번지 두 번 접근) <br>
    List, Map(자료구조 - 주소번지를 두 번 접근) <br>

    <br>

    <span style="color:orange"> String name = null;  레퍼런스 타입 변수 선언 </span>


<br>

<script src="https://gist.github.com/shhhaej/2088caa8ac22219343c1773bd4a02715.js"></script>


<br>
<br>
<br>


## 메모리 구조

<br>

### Static

JAVA 파일은 크게 필드(field), 생성자(constructor), 메소드(method)로 구성된다. **그중 필드에서 선언된 전역변수와 정적 멤버변수(static이라는 키워드를 사용하여 static변수와 static메소드를 만듦) Static영역에 데이터를 저장한다.** Static영역의 데이터는 **프로그램의 시작부터 종료가 될 때까지 메모리에 남아있게 된다.** 다르게 말하면 전역변수가
프로그램이 종료될 때까지 어디서든 사용이 가능한 이유이기도 하다. 따라서 전역변수를 무분별하게 많이 사용하다 보면 메모리가 부족한 우려가 있어 필요한 변수만 사용할 필요가 있다. 


<br>
<br>


### Stack

메소드 내에서 정의하는 **기본 자료형(int, double, byte, long, boolean..)에 해당되는 지역변수의 데이터 값이 저장되는 공간이 Stack영역이다.** 해당 **메소드가 호출될 때 메모리에 할당되고 종료되면 메모리가 해제된다.**

~~~
public class Stack {
    public static void main(String[] args) {
        int a = 5;  a = 4;  a = 3;  a = 2;
        System.out.println(a);
        for(int i = 0; i<5; i++) {
        }
        system.out.println(i);  //컴파일 에러
    }
}
~~~

a라는 변수는 main 메소드가 호출될 때 Stack 영역에 할당되고 종료 시 해제된다. a라는 변수의 값이 5, 4, 3, 2 순으로 값을 할당하였고 출력되는 값은 '2'가 출력된다. 이전 데이터는 지워지고 마지막 '2'라는 값만 출력된다. 즉, **Stact영역은 LIFO(Last In First Out)의 구조를 갖고 변수의 새로운 데이터가 할당되면 이전 데이터는 지워진다**는 것을 알 수 있다.

![stack](/assets/images/posts_img/java-variable-jvm/2.JPG)